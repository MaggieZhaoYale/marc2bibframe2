<?xml version="1.0" encoding="UTF-8"?>

<x:description xmlns:x="http://www.jenitennison.com/xslt/xspec"
               xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
               xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
               xmlns:marc="http://www.loc.gov/MARC21/slim"
               xmlns:bf="http://id.loc.gov/ontologies/bibframe/"
               xmlns:bflc="http://id.loc.gov/ontologies/bflc/"
               stylesheet="../xsl/marc2bibframe2.xsl"
               xslt-version="1.0">

  <x:scenario label="490 - SERIES STATEMENT">
    <x:context href="data/ConvSpec-Process6-Series/marc.xml"/>
    <x:expect label="$a creates a seriesStatement property of the Instance" test="//bf:Instance[1]/bf:seriesStatement = 'MÃ©moire du BRGM'"/>
    <x:expect label="$v creates a seriesEnumeration property of the Work" test="//bf:Instance[1]/bf:seriesEnumeration = 'no 123'"/>
    <x:expect label="$x creates a hasSeries property of the Instance" test="//bf:Instance[1]/bf:hasSeries[1]/bf:Instance/bf:identifiedBy[1]/bf:Issn/rdf:value = '0071-8246'"/>
  </x:scenario>

  <x:scenario label="8XX - SERIES ADDED ENTRY">
    <x:context href="data/ConvSpec-Process6-Series/marc.xml"/>
    <x:expect label="8XX creates a bf:hasSeries" test="//bf:Work[@rdf:about='http://example.org/3#Work']/bf:hasSeries/bf:Work/bf:title/bf:Title/bf:mainTitle = 'Resource maps of Sri Lanka'"/>
    <x:expect label="830 becomes a hasSeries of the main Work" test="//bf:Work[@rdf:about='http://example.org/2#Work']/bf:hasSeries/bf:Work/bf:title/bf:Title/bf:mainTitle = 'Nihon zenkoku panorama chizu'"/>
    <x:expect label="$v becomes a seriesEnumeration" test="//bf:Work[@rdf:about='http://example.org/2#Work']/bf:seriesEnumeration = '1'"/>
    <x:expect label="$7 sets the rdf:type of the Work" test="//bf:Work[@rdf:about='http://example.org/2#Work830-3']/rdf:type/@rdf:resource = 'http://id.loc.gov/ontologies/bibframe/Text'"/>
    <x:expect label="$7 sets the issuance of the Work" test="//bf:Work[@rdf:about='http://example.org/2#Work830-3']/bf:issuance/bf:Issuance/bf:code = 's'"/>
  </x:scenario>

</x:description>

<?xml version="1.0" encoding="UTF-8"?>

<x:description xmlns:x="http://www.jenitennison.com/xslt/xspec"
               xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
               xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
               xmlns:marc="http://www.loc.gov/MARC21/slim"
               xmlns:bf="http://id.loc.gov/ontologies/bibframe/"
               xmlns:bflc="http://id.loc.gov/ontologies/bibframe/lc-extensions/"
               stylesheet="../xsl/marc2bibframe2.xsl" xslt-version="1.0">

  <x:scenario label="MARC validation">

    <x:scenario label="Valid record (marc.xml)...">
      <x:context href="data/marc.xml"/>
      <x:expect label="should not return an error" test="count(//comment()) = 0"/>
    </x:scenario>
    
    <x:scenario label="No 001 (marc-no001.xml)...">
      <x:context href="data/validation/marc-no001.xml"/>
      <x:expect label="should return an error" test="//comment() = 'No 001 tag in record 1'"/>
    </x:scenario>

    <x:scenario label="Multiple 001s (marc-multi001.xml)...">
      <x:context href="data/validation/marc-multi001.xml"/>
      <x:expect label="should return an error" test="//comment() = 'Multiple 001 tags in record 1'"/>
    </x:scenario>

    <x:scenario label="Error in collection (marc-collection-no001.xml)...">
      <x:context href="data/validation/marc-collection-no001.xml"/>
      <x:expect label="should return an error at the right position in the file" test="//comment() = 'No 001 tag in record 3'"/>
    </x:scenario>

  </x:scenario>

</x:description>

<?xml version="1.0" encoding="UTF-8"?>

<x:description xmlns:x="http://www.jenitennison.com/xslt/xspec"
               xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
               xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
               xmlns:marc="http://www.loc.gov/MARC21/slim"
               xmlns:bf="http://id.loc.gov/ontologies/bibframe/"
               xmlns:bflc="http://id.loc.gov/ontologies/bibframe/lc-extensions/"
               stylesheet="../xsl/marc2bibframe2.xsl" xslt-version="1.0">

  <x:scenario label="Entity generation">

    <x:scenario label="Title from 245 (marc.xml)...">
      <x:context href="data/marc.xml"/>
      <x:expect label="should return a title entity" test="count(/rdf:RDF/bf:Title) = 1"/>
      <x:expect label="with correct ID" test="/rdf:RDF/bf:Title/@rdf:about = 'http://example.org/13600108title245'"/>
      <x:expect label="it should be an InstanceTitle" test="/rdf:RDF/bf:Title/rdf:type[1] = 'bf:InstanceTitle'"/>
      <x:expect label="and in this case a WorkTitle" test="/rdf:RDF/bf:Title/rdf:type[2] = 'bf:WorkTitle'"/>
    </x:scenario>

    <x:scenario label="Title from 130 (marc_unif.xml)...">
      <x:context href="data/marc_unif.xml"/>
      <x:expect label="245 title should not be a WorkTitle" test="not(/rdf:RDF/bf:Title[@rdf:about='http://example.org/4981716title245']/rdf:type[contains(.,'bf:WorkTitle')])"/>
    </x:scenario>
      
  </x:scenario>
  
</x:description>

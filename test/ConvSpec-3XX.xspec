<?xml version="1.0" encoding="UTF-8"?>

<x:description xmlns:x="http://www.jenitennison.com/xslt/xspec"
               xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
               xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
               xmlns:marc="http://www.loc.gov/MARC21/slim"
               xmlns:bf="http://id.loc.gov/ontologies/bibframe/"
               xmlns:bflc="http://id.loc.gov/ontologies/bibframe/lc-extensions/"
               stylesheet="../xsl/marc2bibframe2.xsl"
               xslt-version="1.0">

  <x:scenario label="300 - PHYSICAL DESCRIPTION">
    <x:context href="data/ConvSpec-3XX/marc.xml"/>
    <x:expect label="300 creates an extent property of the Instance" test="count(//bf:Instance[1]/bf:extent) = 2"/>
    <x:expect label="$a, $f, $g create the rdfs:label property of the Extent" test="//bf:Instance[1]/bf:extent[1]/bf:Extent/rdfs:label = '1 box 2 x 4 x 3 1/2 ft.'"/>
    <x:expect label="$b creates a 'Physical details' note property of the Instance" test="//bf:Instance[1]/bf:note[1]/bf:Note/rdfs:label = 'ill.'"/>
    <x:expect label="$c creates a dimensions property of the Instance" test="//bf:Instance[1]/bf:dimensions[1] = '21 cm.'"/>
    <x:expect label="$e creates an 'Accompanying material' note property of the Instance"  test="//bf:Instance[1]/bf:note[2]/bf:Note/rdfs:label = '1 answer book'"/>
    <x:expect label="$3 creates a bflc:appliesTo property of the Extent and the Notes" test="//bf:Instance[1]/bf:extent[1]/bf:Extent/bflc:appliesTo/bflc:AppliesTo/rdfs:label = 'records'"/>
  </x:scenario>

  <x:scenario label="306 - PLAYING TIME">
    <x:context href="data/ConvSpec-3XX/marc.xml"/>
    <x:expect label="306 creates a duration property of the Instance" test="//bf:Instance[1]/bf:duration[1] = '002016'"/>
  </x:scenario>
  
  <x:scenario label="310 - CURRENT PUBLICATION FREQUENCY">
    <x:context href="data/ConvSpec-3XX/marc.xml"/>
    <x:expect label="310 creates a frequency property of the Instance" test="//bf:Instance[1]/bf:frequency[1]/bf:Frequency/rdfs:label = 'Annual'"/>
    <x:expect label="$b creates a date property of the Frequency" test="//bf:Instance[1]/bf:frequency[1]/bf:Frequency/bf:date = '1983-'"/>
  </x:scenario>

  <x:scenario label="321 - FORMER PUBLICATION FREQ.">
    <x:context href="data/ConvSpec-3XX/marc.xml"/>
    <x:expect label="321 creates a frequency property of the Instance" test="//bf:Instance[1]/bf:frequency[2]/bf:Frequency/rdfs:label = 'Semiannual'"/>
    <x:expect label="$b creates a date property of the Frequency" test="//bf:Instance[1]/bf:frequency[2]/bf:Frequency/bf:date = '1981-1982'"/>
  </x:scenario>

  <x:scenario label="336 - CONTENT TYPE">
    <x:context href="data/ConvSpec-3XX/marc.xml"/>
    <x:expect label="336 creates a content property of the Work" test="count(//bf:Work[1]/bf:content) = 1"/>
    <x:expect label="$a creates an rdfs:label property of the Content" test="//bf:Work[1]/bf:content[1]/bf:Content/rdfs:label = 'performed music'"/>
    <x:expect label="$b creates a code property of the Content" test="//bf:Work[1]/bf:content[1]/bf:Content/bf:code = 'prm'"/>
    <x:expect label="$2 creates a source property of the Content" test="//bf:Work[1]/bf:content[1]/bf:Content/bf:source/bf:Source/rdfs:label = 'rdacontent'"/>
    <x:expect label="$0 creates an identifiedBy property of the Content" test="//bf:Work[1]/bf:content[1]/bf:Content/bf:identifiedBy/bf:Identifier/rdf:value = 'http://id.loc.gov/vocabulary/contentTypes/prm'"/>
    <x:expect label="$3 creates a bflc:appliesTo property of the Content" test="//bf:Work[1]/bf:content[1]/bf:Content/bflc:appliesTo/bflc:AppliesTo/rdfs:label = 'record'"/>
  </x:scenario>
  
</x:description>

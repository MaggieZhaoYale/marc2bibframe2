<?xml version="1.0" encoding="UTF-8"?>

<x:description xmlns:x="http://www.jenitennison.com/xslt/xspec"
               xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
               xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
               xmlns:marc="http://www.loc.gov/MARC21/slim"
               xmlns:bf="http://id.loc.gov/ontologies/bibframe/"
               xmlns:bflc="http://id.loc.gov/ontologies/bibframe/lc-extensions/"
               xmlns:madsrdf="http://www.loc.gov/mads/rdf/v1#"
               stylesheet="../xsl/marc2bibframe2.xsl" xslt-version="1.0">

  <x:import href="ConvSpec-LDR.xspec"/>
  <x:import href="ConvSpec-1XX,6XX,7XX,8XX-names.xspec"/>
  <x:import href="ConvSpec-200-247not240-Titles.xspec"/>
  <x:import href="ConvSpec-880.xspec"/>
  <x:import href="ConvSpec-X30and240-UnifTitle.xspec"/>

  <x:scenario label="Regression">
    <x:scenario label="Simple transform">
      <x:context href="data/marc.xml"/>
      <x:expect label="should match expected">
        <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#" xmlns:bf="http://id.loc.gov/ontologies/bibframe/" xmlns:bflc="http://id.loc.gov/ontologies/bibframe/lc-extensions/">
          <bf:Work rdf:about="http://example.org/13600108#Work">
            <bf:adminMetadata>
              <bf:AdminMetadata>
                <bf:status>
                  <bf:Status>
                    <bf:code>c</bf:code>
                  </bf:Status>
                </bf:status>
                <bflc:encodingLevel>
                  <bflc:EncodingLevel>
                    <bf:code>f</bf:code>
                  </bflc:EncodingLevel>
                </bflc:encodingLevel>
                <bf:descriptionConventions>
                  <bf:DescriptionConventions>
                    <bf:code>aacr</bf:code>
                  </bf:DescriptionConventions>
                </bf:descriptionConventions>
              </bf:AdminMetadata>
            </bf:adminMetadata>
            <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/Text"/>
            <bf:contributor>
              <bf:Agent rdf:about="http://example.org/13600108#Agent100-12">
                <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/Person"/>
                <bflc:name00MatchKey>Andersen, H. C. (Hans Christian), 1805-1875.</bflc:name00MatchKey>
                <bflc:primaryContributorName00MatchKey>Andersen, H. C. (Hans Christian), 1805-1875.</bflc:primaryContributorName00MatchKey>
                <bflc:name00MarcKey>1001 $aAndersen, H. C.$q(Hans Christian),$d1805-1875.</bflc:name00MarcKey>
                <rdfs:label>Andersen, H. C. (Hans Christian), 1805-1875.</rdfs:label>
              </bf:Agent>
            </bf:contributor>
            <rdfs:label>Ole Lukøie /</rdfs:label>
            <bf:title>
              <bf:Title>
                <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/WorkTitle"/>
                <rdfs:label>Ole Lukøie /</rdfs:label>
                <bflc:titleSortKey>Ole Lukøie /</bflc:titleSortKey>
                <bf:mainTitle>Ole Lukøie</bf:mainTitle>
              </bf:Title>
            </bf:title>
            <bf:contribution>
              <bf:Contribution>
                <bf:agent>
                  <bf:Agent rdf:about="http://example.org/13600108#Agent700-17">
                    <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/Person"/>
                    <bflc:name00MatchKey>Dickmeiss, Otto,</bflc:name00MatchKey>
                    <bflc:name00MarcKey>7001 $aDickmeiss, Otto,$eill.</bflc:name00MarcKey>
                    <rdfs:label>Dickmeiss, Otto,</rdfs:label>
                  </bf:Agent>
                </bf:agent>
                <bf:role>
                  <bf:Role>
                    <rdfs:label>ill.</rdfs:label>
                  </bf:Role>
                </bf:role>
              </bf:Contribution>
            </bf:contribution>
            <bf:hasInstance rdf:resource="http://example.org/13600108#Instance"/>
          </bf:Work>
          <bf:Instance rdf:about="http://example.org/13600108#Instance">
            <bf:issuance rdf:resource="http://id.lc.gov/vocabulary/issuance/mono"/>
            <rdfs:label>Ole Lukøie /</rdfs:label>
            <bf:title>
              <bf:Title>
                <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/InstanceTitle"/>
                <rdfs:label>Ole Lukøie /</rdfs:label>
                <bflc:titleSortKey>Ole Lukøie /</bflc:titleSortKey>
                <bf:mainTitle>Ole Lukøie</bf:mainTitle>
              </bf:Title>
            </bf:title>
            <bf:responsibilityStatement>H.C. Andersen ; illustrationer af Otto Dickmeiss</bf:responsibilityStatement>
            <bf:instanceOf rdf:resource="http://example.org/13600108#Work"/>
          </bf:Instance>
        </rdf:RDF>
      </x:expect>
    </x:scenario>
    <x:scenario label="Simple collection transform">
      <x:context href="data/collection.xml"/>
      <x:expect label="should match expected">
        <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#" xmlns:bf="http://id.loc.gov/ontologies/bibframe/" xmlns:bflc="http://id.loc.gov/ontologies/bibframe/lc-extensions/">
          <bf:Work rdf:about="http://example.org/5637241#Work">
            <bf:adminMetadata>
              <bf:AdminMetadata>
                <bf:status>
                  <bf:Status>
                    <bf:code>n</bf:code>
                  </bf:Status>
                </bf:status>
                <bflc:encodingLevel>
                  <bflc:EncodingLevel>
                    <bf:code>7</bf:code>
                  </bflc:EncodingLevel>
                </bflc:encodingLevel>
                <bf:descriptionConventions>
                  <bf:DescriptionConventions>
                    <bf:code>aacr</bf:code>
                  </bf:DescriptionConventions>
                </bf:descriptionConventions>
              </bf:AdminMetadata>
            </bf:adminMetadata>
            <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/Audio"/>
            <rdfs:label>The Great Ray Charles</rdfs:label>
            <bf:title>
              <bf:Title>
                <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/WorkTitle"/>
                <rdfs:label>The Great Ray Charles</rdfs:label>
                <bflc:titleSortKey>Great Ray Charles</bflc:titleSortKey>
                <bf:mainTitle>The Great Ray Charles</bf:mainTitle>
              </bf:Title>
            </bf:title>
            <bf:genreForm>
              <bf:GenreForm>
                <rdfs:label>sound recording</rdfs:label>
              </bf:GenreForm>
            </bf:genreForm>
            <bf:contribution>
              <bf:Contribution>
                <bf:agent>
                  <bf:Agent rdf:about="http://example.org/5637241#Agent700-19">
                    <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/Person"/>
                    <bflc:name00MatchKey>Charles, Ray, 1930-</bflc:name00MatchKey>
                    <bflc:name00MarcKey>7001 $aCharles, Ray,$d1930-$4prf</bflc:name00MarcKey>
                    <rdfs:label>Charles, Ray, 1930-</rdfs:label>
                  </bf:Agent>
                </bf:agent>
                <bf:role rdf:resource="http://id.loc.gov/vocabulary/relators/prf"/>
              </bf:Contribution>
            </bf:contribution>
            <bf:hasInstance rdf:resource="http://example.org/5637241#Instance"/>
          </bf:Work>
          <bf:Instance rdf:about="http://example.org/5637241#Instance">
            <bf:issuance rdf:resource="http://id.lc.gov/vocabulary/issuance/mono"/>
            <rdfs:label>The Great Ray Charles</rdfs:label>
            <bf:title>
              <bf:Title>
                <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/InstanceTitle"/>
                <rdfs:label>The Great Ray Charles</rdfs:label>
                <bflc:titleSortKey>Great Ray Charles</bflc:titleSortKey>
                <bf:mainTitle>The Great Ray Charles</bf:mainTitle>
              </bf:Title>
            </bf:title>
            <bf:genreForm>
              <bf:GenreForm>
                <rdfs:label>sound recording</rdfs:label>
              </bf:GenreForm>
            </bf:genreForm>
            <bf:instanceOf rdf:resource="http://example.org/5637241#Work"/>
          </bf:Instance>
          <bf:Work rdf:about="http://example.org/12149120#Work">
            <bf:adminMetadata>
              <bf:AdminMetadata>
                <bf:status>
                  <bf:Status>
                    <bf:code>c</bf:code>
                  </bf:Status>
                </bf:status>
                <bflc:encodingLevel>
                  <bflc:EncodingLevel>
                    <bf:code>f</bf:code>
                  </bflc:EncodingLevel>
                </bflc:encodingLevel>
                <bf:descriptionConventions>
                  <bf:DescriptionConventions>
                    <bf:code>aacr</bf:code>
                  </bf:DescriptionConventions>
                </bf:descriptionConventions>
              </bf:AdminMetadata>
            </bf:adminMetadata>
            <rdfs:label>The White House</rdfs:label>
            <bf:title>
              <bf:Title>
                <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/WorkTitle"/>
                <rdfs:label>The White House</rdfs:label>
                <bflc:titleSortKey>White House</bflc:titleSortKey>
                <bf:mainTitle>The White House</bf:mainTitle>
              </bf:Title>
            </bf:title>
            <bf:genreForm>
              <bf:GenreForm>
                <rdfs:label>computer file</rdfs:label>
              </bf:GenreForm>
            </bf:genreForm>
            <bf:contributor>
              <bf:Agent rdf:about="http://example.org/12149120#Agent710-26">
                <rdf:type>bf:Organization</rdf:type>
                <bflc:name10MatchKey>White House Web Team.</bflc:name10MatchKey>
                <bflc:name10MarcKey>7102 $aWhite House Web Team.</bflc:name10MarcKey>
                <rdfs:label>White House Web Team.</rdfs:label>
              </bf:Agent>
            </bf:contributor>
            <bf:hasInstance rdf:resource="http://example.org/12149120#Instance"/>
          </bf:Work>
          <bf:Instance rdf:about="http://example.org/12149120#Instance">
            <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/Electronic"/>
            <bf:issuance rdf:resource="http://id.lc.gov/vocabulary/issuance/mono"/>
            <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/Archival"/>
            <rdfs:label>The White House</rdfs:label>
            <bf:title>
              <bf:Title>
                <rdf:type rdf:resource="http://id.loc.gov/ontologies/bibframe/InstanceTitle"/>
                <rdfs:label>The White House</rdfs:label>
                <bflc:titleSortKey>White House</bflc:titleSortKey>
                <bf:mainTitle>The White House</bf:mainTitle>
              </bf:Title>
            </bf:title>
            <bf:genreForm>
              <bf:GenreForm>
                <rdfs:label>computer file</rdfs:label>
              </bf:GenreForm>
            </bf:genreForm>
            <bf:instanceOf rdf:resource="http://example.org/12149120#Work"/>
          </bf:Instance>
        </rdf:RDF>
      </x:expect>
    </x:scenario>
  </x:scenario>

  <x:scenario label="Record ID">
    <x:context href="data/marc.xml"/>
    <x:expect label="by default value of MARC control field 001" test="//bf:Work/@rdf:about = 'http://example.org/13600108#Work'"/>
  </x:scenario>

</x:description>
